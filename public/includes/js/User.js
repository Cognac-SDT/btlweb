var User=function(){function n(){function n(){f=i(20)}return r()?(console.log("User instance has been setup already"),!1):(f=c(s),f||n(),u(s,f,100),!0)}function t(){return f}function e(n,t){$.post(a,{action:"get",uid:f,k:n},function(n){if("function"==typeof t)try{t(JSON.parse(n))}catch(e){console.log("getInfo error: "+n)}})}function o(n,t,e){$.post(a,{action:"update",uid:f,k:n,v:t},function(n){if("function"==typeof e)try{e(JSON.parse(n))}catch(t){console.log("getInfo error: "+n)}})}function r(){return window.WebUserSetup?!0:(window.WebUserSetup=!0,!1)}function i(n){for(var t=[],e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;n>o;o++)t.push(e.charAt(Math.floor(Math.random()*e.length)));return t.join("")}function u(n,t,e){var o="";if(e){var r=new Date;r.setTime(r.getTime()+24*e*60*60*1e3),o="; expires="+r.toUTCString()}document.cookie=n+"="+(t||"")+o+"; path=/"}function c(n){for(var t=n+"=",e=document.cookie.split(";"),o=0;o<e.length;o++){for(var r=e[o];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return null}var f,a="/ajax/user.php",s="uID";return n(),{getUserId:t,getInfo:e,updateInfo:o}}();